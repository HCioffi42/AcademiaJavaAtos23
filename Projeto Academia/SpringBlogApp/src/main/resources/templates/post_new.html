<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.2/css/bootstrap.min.css}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet" >
    <title>Blog :: New Post</title>
</head>
<body>
<nav class="navbar navbar-expand navbar-dark bg-dark">
    <div class="container">
        <a href="https://github.com/HCioffi42/AcademiaJavaAtos23/tree/main/Projeto%20Academia/SpringBlogApp"
           target="_blank" class="navbar-brand">
            Project's Repository</a>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="btn btn-outline-light" th:href="@{/}">
                    <strong>Home</strong></a>
            </li>
        </ul>
    </div>
</nav>
    <div class="container">
        <h1>Blog Application</h1>
        <hr>
        <form action="#"
              th:action="@{'/posts/new'}"
              th:object="${post}"
              method="POST" class="needs-validation" novalidate>
            <input type="hidden" th:field="*{account}" />
            <input type="hidden" th:field="*{createdAt}" />
            <h2>Write a New Post</h2>
            <div class="mb-3 form-floating">
                <input id="new-post-title" type="text" class="form-control text-bg-dark bg-opacity-25"
                       th:field="*{title}" placeholder="Title" required/>
                <label for="new-post-title" class="form-label">Title</label>
                <div class="invalid-feedback">Give us a Title to aim for</div>
                <div class="valid-feedback">Now, THAT'S more like it!</div>
            </div>
            <div class="mb-3 form-floating">
                <textarea id="new-post-body" class="form-control text-bg-dark bg-opacity-25"
                          th:field="*{body}" rows="10" cols="50"
                          style="white-space: pre-line;"
                          placeholder="Write your post and pour your heart at it!" required></textarea>
                <label for="new-post-body" class="form-label">Write your post and pour your heart at it!</label>
                <div class="invalid-feedback">Don't forget to write first...</div>
                <div class="valid-feedback">THAT IS IT! Keep Going!</div>
            </div>
            <button type="submit" class="btn btn-outline-primary">
                <strong>Publish Post</strong></button>
        </form>
    </div>
<!--    <script th:src="@{/webjars/bootstrap/5.2.2/js/bootstrap.min.js}"></script>-->
</body>
<script>
    (() => {
    'use strict'

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation')

    // Loop over them and prevent submission
    Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
    if (!form.checkValidity()) {
    event.preventDefault()
    event.stopPropagation()
    }

    form.classList.add('was-validated')
    }, false)
    })
    })()
</script>
</html>
